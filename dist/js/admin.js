(()=>{"use strict";const e="http://localhost:3001";(()=>{const t=document.getElementById("category-name"),n=document.getElementById("category-image"),o=document.getElementById("category-add-btn"),a={name:"",preview:""},r=()=>{""===t.value||""===n.value?o.disabled=!0:o.disabled=!1};t.addEventListener("input",(()=>{a.name=t.value,r()})),n.addEventListener("input",(()=>{const e=n.files[0];if("image/png"===e.type||"image/jpeg"===e.type||"image/jpg"===e.type){const t=new FileReader;t.onload=()=>{a.preview=t.result},t.onerror=()=>{a.preview="",n.value=""},t.readAsDataURL(e)}else n.value="";r()})),o.addEventListener("click",(()=>{var t;("/categories",t={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"aplication/json"}},fetch(e+"/categories",t).then((e=>{if(!e.ok)throw new Error("Ошибка!");return e.json()}))).then((t=>{fetch(e+"/categories").then((e=>{if(!e.ok)throw new Error("Ошибка!");return e.json()})).then((e=>{console.log(e)}))}))})),r()})()})();